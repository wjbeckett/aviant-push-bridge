version: '3.8'

services:
  aviant-push-bridge:
    # Use pre-built image from GitHub Container Registry
    image: ghcr.io/your-username/aviant-push-bridge:latest
    container_name: aviant-push-bridge
    restart: unless-stopped
    ports:
      - "3002:3002"
    volumes:
      # Persist configuration and push token registrations
      - ./data:/app/data
    environment:
      # ============================================
      # REQUIRED: MQTT Broker Connection
      # ============================================
      - MQTT_HOST=mqtt://192.168.1.100:1883
      - MQTT_USERNAME=
      - MQTT_PASSWORD=
      - MQTT_TOPIC=frigate/events
      
      # ============================================
      # OPTIONAL: Bridge Settings
      # ============================================
      - BRIDGE_PORT=3002
      - NOTIFICATION_COOLDOWN=30
      
      # ============================================
      # OPTIONAL: Event Filters
      # ============================================
      # Comma-separated, leave empty for all
      - FILTER_LABELS=
      - FILTER_CAMERAS=
